{"_message":"User validation failed","errors":{"emergencyContact.name":{"kind":"required","message":"Path `emergencyContact.name` is required.","name":"ValidatorError","path":"emergencyContact.name","properties":{"message":"Path `emergencyContact.name` is required.","path":"emergencyContact.name","type":"required"}},"emergencyContact.phoneNumber":{"kind":"required","message":"Path `emergencyContact.phoneNumber` is required.","name":"ValidatorError","path":"emergencyContact.phoneNumber","properties":{"message":"Path `emergencyContact.phoneNumber` is required.","path":"emergencyContact.phoneNumber","type":"required"}},"emergencyContact.relationship":{"kind":"required","message":"Path `emergencyContact.relationship` is required.","name":"ValidatorError","path":"emergencyContact.relationship","properties":{"message":"Path `emergencyContact.relationship` is required.","path":"emergencyContact.relationship","type":"required"}}},"level":"error","message":"Registration error: User validation failed: emergencyContact.relationship: Path `emergencyContact.relationship` is required., emergencyContact.phoneNumber: Path `emergencyContact.phoneNumber` is required., emergencyContact.name: Path `emergencyContact.name` is required.","service":"smart-health-backend","stack":"ValidationError: User validation failed: emergencyContact.relationship: Path `emergencyContact.relationship` is required., emergencyContact.phoneNumber: Path `emergencyContact.phoneNumber` is required., emergencyContact.name: Path `emergencyContact.name` is required.\n    at Document.invalidate (/home/ghost/Desktop/Medical/node_modules/mongoose/lib/document.js:3362:32)\n    at /home/ghost/Desktop/Medical/node_modules/mongoose/lib/document.js:3123:17\n    at /home/ghost/Desktop/Medical/node_modules/mongoose/lib/schemaType.js:1417:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-07T09:57:53.158Z"}
{"_message":"User validation failed","errors":{"emergencyContact.name":{"kind":"required","message":"Path `emergencyContact.name` is required.","name":"ValidatorError","path":"emergencyContact.name","properties":{"message":"Path `emergencyContact.name` is required.","path":"emergencyContact.name","type":"required"}},"emergencyContact.phoneNumber":{"kind":"required","message":"Path `emergencyContact.phoneNumber` is required.","name":"ValidatorError","path":"emergencyContact.phoneNumber","properties":{"message":"Path `emergencyContact.phoneNumber` is required.","path":"emergencyContact.phoneNumber","type":"required"}},"emergencyContact.relationship":{"kind":"required","message":"Path `emergencyContact.relationship` is required.","name":"ValidatorError","path":"emergencyContact.relationship","properties":{"message":"Path `emergencyContact.relationship` is required.","path":"emergencyContact.relationship","type":"required"}}},"level":"error","message":"Registration error: User validation failed: emergencyContact.relationship: Path `emergencyContact.relationship` is required., emergencyContact.phoneNumber: Path `emergencyContact.phoneNumber` is required., emergencyContact.name: Path `emergencyContact.name` is required.","service":"smart-health-backend","stack":"ValidationError: User validation failed: emergencyContact.relationship: Path `emergencyContact.relationship` is required., emergencyContact.phoneNumber: Path `emergencyContact.phoneNumber` is required., emergencyContact.name: Path `emergencyContact.name` is required.\n    at Document.invalidate (/home/ghost/Desktop/Medical/node_modules/mongoose/lib/document.js:3362:32)\n    at /home/ghost/Desktop/Medical/node_modules/mongoose/lib/document.js:3123:17\n    at /home/ghost/Desktop/Medical/node_modules/mongoose/lib/schemaType.js:1417:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-07T10:05:32.929Z"}
{"level":"error","message":"Gemini assistant chat error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash-exp:generateContent: [404 Not Found] models/gemini-2.0-flash-exp is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"smart-health-backend","stack":"Error: [404 Not Found] models/gemini-2.0-flash-exp is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at makeRequest (/home/ghost/Desktop/Medical/node_modules/@google/generative-ai/dist/index.js:212:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (/home/ghost/Desktop/Medical/node_modules/@google/generative-ai/dist/index.js:536:22)\n    at async GeminiService.chatWithAssistant (/home/ghost/Desktop/Medical/backend/src/services/GeminiService.js:63:22)\n    at async /home/ghost/Desktop/Medical/backend/src/routes/assistant.js:45:24","timestamp":"2025-10-07T10:13:18.532Z"}
{"level":"error","message":"Assistant chat error: Failed to get assistant response","service":"smart-health-backend","stack":"Error: Failed to get assistant response\n    at GeminiService.chatWithAssistant (/home/ghost/Desktop/Medical/backend/src/services/GeminiService.js:73:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/ghost/Desktop/Medical/backend/src/routes/assistant.js:45:24","timestamp":"2025-10-07T10:13:18.533Z"}
{"level":"error","message":"Gemini assistant chat error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash-exp:generateContent: [404 Not Found] models/gemini-2.0-flash-exp is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"smart-health-backend","stack":"Error: [404 Not Found] models/gemini-2.0-flash-exp is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at makeRequest (/home/ghost/Desktop/Medical/node_modules/@google/generative-ai/dist/index.js:212:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (/home/ghost/Desktop/Medical/node_modules/@google/generative-ai/dist/index.js:536:22)\n    at async GeminiService.chatWithAssistant (/home/ghost/Desktop/Medical/backend/src/services/GeminiService.js:63:22)\n    at async /home/ghost/Desktop/Medical/backend/src/routes/assistant.js:45:24","timestamp":"2025-10-07T10:13:29.933Z"}
{"level":"error","message":"Assistant chat error: Failed to get assistant response","service":"smart-health-backend","stack":"Error: Failed to get assistant response\n    at GeminiService.chatWithAssistant (/home/ghost/Desktop/Medical/backend/src/services/GeminiService.js:73:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/ghost/Desktop/Medical/backend/src/routes/assistant.js:45:24","timestamp":"2025-10-07T10:13:29.934Z"}
{"level":"error","message":"Gemini assistant chat error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-1.5-pro-latest:generateContent: [404 Not Found] models/gemini-1.5-pro-latest is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"smart-health-backend","stack":"Error: [404 Not Found] models/gemini-1.5-pro-latest is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at makeRequest (/home/ghost/Desktop/Medical/node_modules/@google/generative-ai/dist/index.js:212:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (/home/ghost/Desktop/Medical/node_modules/@google/generative-ai/dist/index.js:536:22)\n    at async GeminiService.chatWithAssistant (/home/ghost/Desktop/Medical/backend/src/services/GeminiService.js:63:22)\n    at async /home/ghost/Desktop/Medical/backend/src/routes/assistant.js:45:24","timestamp":"2025-10-07T10:17:00.909Z"}
{"level":"error","message":"Assistant chat error: Failed to get assistant response","service":"smart-health-backend","stack":"Error: Failed to get assistant response\n    at GeminiService.chatWithAssistant (/home/ghost/Desktop/Medical/backend/src/services/GeminiService.js:73:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/ghost/Desktop/Medical/backend/src/routes/assistant.js:45:24","timestamp":"2025-10-07T10:17:00.909Z"}
{"level":"error","message":"Gemini assistant chat error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-1.5-pro-latest:generateContent: [404 Not Found] models/gemini-1.5-pro-latest is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"smart-health-backend","stack":"Error: [404 Not Found] models/gemini-1.5-pro-latest is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at makeRequest (/home/ghost/Desktop/Medical/node_modules/@google/generative-ai/dist/index.js:212:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (/home/ghost/Desktop/Medical/node_modules/@google/generative-ai/dist/index.js:536:22)\n    at async GeminiService.chatWithAssistant (/home/ghost/Desktop/Medical/backend/src/services/GeminiService.js:63:22)\n    at async /home/ghost/Desktop/Medical/backend/src/routes/assistant.js:45:24","timestamp":"2025-10-07T10:17:06.965Z"}
{"level":"error","message":"Assistant chat error: Failed to get assistant response","service":"smart-health-backend","stack":"Error: Failed to get assistant response\n    at GeminiService.chatWithAssistant (/home/ghost/Desktop/Medical/backend/src/services/GeminiService.js:73:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/ghost/Desktop/Medical/backend/src/routes/assistant.js:45:24","timestamp":"2025-10-07T10:17:06.965Z"}
{"level":"error","message":"Gemini assistant chat error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent: [404 Not Found] models/gemini-pro is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"smart-health-backend","stack":"Error: [404 Not Found] models/gemini-pro is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at makeRequest (/home/ghost/Desktop/Medical/node_modules/@google/generative-ai/dist/index.js:212:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (/home/ghost/Desktop/Medical/node_modules/@google/generative-ai/dist/index.js:536:22)\n    at async GeminiService.chatWithAssistant (/home/ghost/Desktop/Medical/backend/src/services/GeminiService.js:63:22)\n    at async /home/ghost/Desktop/Medical/backend/src/routes/assistant.js:45:24","timestamp":"2025-10-07T10:18:53.628Z"}
{"level":"error","message":"Assistant chat error: Failed to get assistant response","service":"smart-health-backend","stack":"Error: Failed to get assistant response\n    at GeminiService.chatWithAssistant (/home/ghost/Desktop/Medical/backend/src/services/GeminiService.js:73:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/ghost/Desktop/Medical/backend/src/routes/assistant.js:45:24","timestamp":"2025-10-07T10:18:53.629Z"}
{"level":"error","message":"Gemini assistant chat error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent: fetch failed","service":"smart-health-backend","stack":"TypeError: fetch failed\n    at node:internal/deps/undici/undici:13510:13\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/home/ghost/Desktop/Medical/node_modules/@google/generative-ai/dist/index.js:195:20)\n    at async generateContent (/home/ghost/Desktop/Medical/node_modules/@google/generative-ai/dist/index.js:536:22)\n    at async GeminiService.chatWithAssistant (/home/ghost/Desktop/Medical/backend/src/services/GeminiService.js:63:22)\n    at async /home/ghost/Desktop/Medical/backend/src/routes/assistant.js:45:24","timestamp":"2025-10-07T10:22:26.102Z"}
{"level":"error","message":"Assistant chat error: Failed to get assistant response","service":"smart-health-backend","stack":"Error: Failed to get assistant response\n    at GeminiService.chatWithAssistant (/home/ghost/Desktop/Medical/backend/src/services/GeminiService.js:73:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/ghost/Desktop/Medical/backend/src/routes/assistant.js:45:24","timestamp":"2025-10-07T10:22:26.103Z"}
{"0":{"location":"body","msg":"Invalid value","path":"symptoms","type":"field","value":"[]"},"level":"error","message":"Image analysis validation errors:","service":"smart-health-backend","timestamp":"2025-10-07T15:22:24.229Z"}
{"0":{"location":"body","msg":"Invalid value","path":"symptoms","type":"field","value":"[\"redness\"]"},"level":"error","message":"Image analysis validation errors:","service":"smart-health-backend","timestamp":"2025-10-07T15:22:48.507Z"}
{"0":{"location":"body","msg":"Invalid value","path":"symptoms","type":"field","value":"[\"redness\"]"},"level":"error","message":"Image analysis validation errors:","service":"smart-health-backend","timestamp":"2025-10-07T15:25:46.369Z"}
{"_message":"User validation failed","errors":{"wearableDevices.0.deviceType":{"kind":"enum","message":"`bluetooth_generic` is not a valid enum value for path `deviceType`.","name":"ValidatorError","path":"deviceType","properties":{"enumValues":["fitbit","apple_watch","garmin","samsung_health","xiaomi","huawei","custom"],"length":17,"message":"`bluetooth_generic` is not a valid enum value for path `deviceType`.","path":"deviceType","type":"enum","value":"bluetooth_generic"},"value":"bluetooth_generic"}},"level":"error","message":"Error registering Bluetooth device: User validation failed: wearableDevices.0.deviceType: `bluetooth_generic` is not a valid enum value for path `deviceType`.","service":"smart-health-backend","stack":"ValidationError: User validation failed: wearableDevices.0.deviceType: `bluetooth_generic` is not a valid enum value for path `deviceType`.\n    at Document.invalidate (/home/ghost/Desktop/medical-ai-main/node_modules/mongoose/lib/document.js:3362:32)\n    at Subdocument.invalidate (/home/ghost/Desktop/medical-ai-main/node_modules/mongoose/lib/types/subdocument.js:229:12)\n    at /home/ghost/Desktop/medical-ai-main/node_modules/mongoose/lib/document.js:3123:17\n    at /home/ghost/Desktop/medical-ai-main/node_modules/mongoose/lib/schemaType.js:1417:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-08T01:25:04.075Z"}
{"_message":"User validation failed","errors":{"wearableDevices.0.deviceType":{"kind":"enum","message":"`bluetooth_generic` is not a valid enum value for path `deviceType`.","name":"ValidatorError","path":"deviceType","properties":{"enumValues":["fitbit","apple_watch","garmin","samsung_health","xiaomi","huawei","custom"],"length":17,"message":"`bluetooth_generic` is not a valid enum value for path `deviceType`.","path":"deviceType","type":"enum","value":"bluetooth_generic"},"value":"bluetooth_generic"}},"level":"error","message":"Register Bluetooth device error: User validation failed: wearableDevices.0.deviceType: `bluetooth_generic` is not a valid enum value for path `deviceType`.","service":"smart-health-backend","stack":"ValidationError: User validation failed: wearableDevices.0.deviceType: `bluetooth_generic` is not a valid enum value for path `deviceType`.\n    at Document.invalidate (/home/ghost/Desktop/medical-ai-main/node_modules/mongoose/lib/document.js:3362:32)\n    at Subdocument.invalidate (/home/ghost/Desktop/medical-ai-main/node_modules/mongoose/lib/types/subdocument.js:229:12)\n    at /home/ghost/Desktop/medical-ai-main/node_modules/mongoose/lib/document.js:3123:17\n    at /home/ghost/Desktop/medical-ai-main/node_modules/mongoose/lib/schemaType.js:1417:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-08T01:25:04.076Z"}
{"_message":"User validation failed","errors":{"wearableDevices.0.deviceType":{"kind":"enum","message":"`bluetooth_generic` is not a valid enum value for path `deviceType`.","name":"ValidatorError","path":"deviceType","properties":{"enumValues":["fitbit","apple_watch","garmin","samsung_health","xiaomi","huawei","custom"],"length":17,"message":"`bluetooth_generic` is not a valid enum value for path `deviceType`.","path":"deviceType","type":"enum","value":"bluetooth_generic"},"value":"bluetooth_generic"}},"level":"error","message":"Error registering Bluetooth device: User validation failed: wearableDevices.0.deviceType: `bluetooth_generic` is not a valid enum value for path `deviceType`.","service":"smart-health-backend","stack":"ValidationError: User validation failed: wearableDevices.0.deviceType: `bluetooth_generic` is not a valid enum value for path `deviceType`.\n    at Document.invalidate (/home/ghost/Desktop/medical-ai-main/node_modules/mongoose/lib/document.js:3362:32)\n    at Subdocument.invalidate (/home/ghost/Desktop/medical-ai-main/node_modules/mongoose/lib/types/subdocument.js:229:12)\n    at /home/ghost/Desktop/medical-ai-main/node_modules/mongoose/lib/document.js:3123:17\n    at /home/ghost/Desktop/medical-ai-main/node_modules/mongoose/lib/schemaType.js:1417:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-08T01:26:00.895Z"}
{"_message":"User validation failed","errors":{"wearableDevices.0.deviceType":{"kind":"enum","message":"`bluetooth_generic` is not a valid enum value for path `deviceType`.","name":"ValidatorError","path":"deviceType","properties":{"enumValues":["fitbit","apple_watch","garmin","samsung_health","xiaomi","huawei","custom"],"length":17,"message":"`bluetooth_generic` is not a valid enum value for path `deviceType`.","path":"deviceType","type":"enum","value":"bluetooth_generic"},"value":"bluetooth_generic"}},"level":"error","message":"Register Bluetooth device error: User validation failed: wearableDevices.0.deviceType: `bluetooth_generic` is not a valid enum value for path `deviceType`.","service":"smart-health-backend","stack":"ValidationError: User validation failed: wearableDevices.0.deviceType: `bluetooth_generic` is not a valid enum value for path `deviceType`.\n    at Document.invalidate (/home/ghost/Desktop/medical-ai-main/node_modules/mongoose/lib/document.js:3362:32)\n    at Subdocument.invalidate (/home/ghost/Desktop/medical-ai-main/node_modules/mongoose/lib/types/subdocument.js:229:12)\n    at /home/ghost/Desktop/medical-ai-main/node_modules/mongoose/lib/document.js:3123:17\n    at /home/ghost/Desktop/medical-ai-main/node_modules/mongoose/lib/schemaType.js:1417:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-08T01:26:00.896Z"}
